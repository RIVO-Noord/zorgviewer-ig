{
    "resourceType": "http://hl7.org/fhir/uv/sql-on-fhir/StructureDefinition/ViewDefinition",
    "resource": "Bundle",
    "id": "ViewDefinition-Medicatiegegevens",
    "title": "Medicatie Gebruik en Afspraken",
    "select": [
        {
            "unionAll": [
                {
                    "column": [
                        {
                            "path": "meta.extension('http://hl7.org/fhir/4.0/StructureDefinition/extension-Meta.source').valueUri",
                            "name": "Bron",
                            "description": "Lookup adhv uri (AGB-Z of OID) <code>&lt;adressering-base&gt;/Organization?identifier=&lt;.meta.tag.code&gt;</code> en gebruik dan <code>Organization.name</code>",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "nvt"
                                }
                            ]
                        },
                        {
                            "path": "medicationReference.display",
                            "name": "Medicatie",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "AgreedMedicine/Medication"
                                }
                            ]
                        },
                        {
                            "path": "dosageInstruction.route.text.toString()",
                            "name": "Toedieningsweg",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "InstructionsForUse/RouteOfAdministration"
                                }
                            ]
                        },
                        {
                            "path": "dosageInstruction.text.toString()",
                            "name": "Dosering & Instructies",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "InstructionsForUse/Description"
                                }
                            ]
                        },
                        {
                            "path": "authoredOn",
                            "name": "Datum",
                            "type": "dateTime",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "MedicationAgreementDateTime"
                                }
                            ]
                        },
                        {
                            "path": "category.text",
                            "name": "+Categorie",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "nvt"
                                }
                            ]
                        },
                        {
                            "path": "'voorgeschreven'",
                            "name": "+Type"
                        }
                    ],
                    "forEach": "entry.resource.where(resourceType='MedicationRequest')"
                },
                {
                    "column": [
                        {
                            "path": "meta.extension('http://hl7.org/fhir/4.0/StructureDefinition/extension-Meta.source').valueUri",
                            "name": "Bron",
                            "description": "Lookup adhv uri (AGB-Z of OID) <code>&lt;adressering-base&gt;/Organization?identifier=&lt;.meta.tag.code&gt;</code> en gebruik dan <code>Organization.name</code>",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "nvt"
                                }
                            ]
                        },
                        {
                            "path": "medicationReference.display",
                            "name": "Medicatie",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "ProductUsed"
                                }
                            ]
                        },
                        {
                            "path": "dosage.route.text",
                            "name": "Toedieningsweg",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "InstructionsForUse/RouteOfAdministration"
                                }
                            ]
                        },
                        {
                            "path": "dosage.text",
                            "name": "Dosering & Instructies",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "InstructionsForUse/Description"
                                }
                            ]
                        },
                        {
                            "path": "dateAsserted",
                            "name": "Datum",
                            "type": "dateTime",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "MedicationUseDateTime"
                                }
                            ]
                        },
                        {
                            "path": "category.text",
                            "name": "+Categorie",
                            "type": "string",
                            "tag": [
                                {
                                    "name": "Zib element",
                                    "value": "nvt"
                                }
                            ]
                        },
                        {
                            "path": "'huidig'",
                            "name": "+Type"
                        }
                    ],
                    "forEach": "entry.resource.where(resourceType='MedicationStatement')"
                }
            ]
        }
    ]
}